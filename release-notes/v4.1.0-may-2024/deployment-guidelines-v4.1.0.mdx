---
title: Deployment guidelines v4.1
---

<Info>
Do not forget, when upgrading to a new platform version, always ensure that your installed component versions match the versions specified in the release notes. To verify this, navigate to **FlowX.AI Designer > Platform Status**.
</Info>

<Warning>
After updating to the 4.1 FLOWX.AI release, you can import old process definitions into the new platform only if they are from version 4.0.

It is not possible to import old process definitions from versions earlier than v4.0.
</Warning>

![](https://s3.eu-west-1.amazonaws.com/docx.flowx.ai/release-notes/release_platform_version_check.png)


### Revised cache key organization

To ensure a smooth transition to the 4.1 release, it's essential to utilize the following clear cache endpoint and body:

##### Endpoint:

`POST {{baseUrlAdmin}}/api/internal/cache/clear`

##### Body:

```json
{
    "cacheNames": [
        "flowx:core:cache"
        ]
}
```

<Card title="Clear cache endpoint" href="../../4.0/docs/api/clear-cache4.0" icon ="link">
</Card>

## Component versions   

<Warning>
With the release of **FLOWX.AI 3.0**, there have been some changes that you need to be aware when upgrading to the latest version:
* The `flowx-process-renderer` has been migrated to `@flowx\ui-sdk`.
* As of **FlowX.AI 4.0** release version, the `paperflow-web-components` library is deprecated, removing the dependencies. Instead, the new components can be found in `@flowx/ui-toolkit`.
</Warning>


| Component                      | 4.1        | 4.0    | 3.4.7      | 3.4.6     | 3.4.5     | 3.4.4     | 3.4.3   | 3.4.2  | 3.4.1  | 3.4.0  | 3.3.0   | 3.2.0  | 3.1.0  | 3.0.0  |
| ------------------------------ | ---------- | ------ | ---------- | --------- | --------- | --------- | ------- | ------ | ------ | ------ | ------- | ------ | ------ | ------ |
| **process-engine**             | **6.0.3**  | 5.10.3 | 4.3.5-2v11 | 4.3.5-2v6 | 4.3.5-2v2 | 4.3.5-2v1 | 4.3.5   | 4.3.2  | 4.3.1  | 4.1.0  | 3.6.0   | 2.2.1  | 2.1.2  | 2.0.7  |
| **admin**                      | **5.0.9**  | 4.6.10 | 3.3.19-6   | 3.3.19-4  | 3.3.19-3  | 3.3.19-1  | 3.3.19  | 3.3.10 | 3.3.7  | 3.1.1  | 2.5.2   | 2.2.2  | 2.1.3  | 2.0.8  |
| **designer**                   | **4.17.1** | 4.0.1  | 3.35.18-5  | 3.35.18-3 | 3.35.18-2 | 3.35.18-1 | 3.35.18 | 3.35.9 | 3.35.6 | 3.33.2 | 3.28.11 | 3.21.1 | 3.15.1 | 3.2.1  |
| **@flowx/ui-sdk**              | **4.17.1** | 4.0.1  | 3.35.18-5  | 3.35.18-3 | 3.35.18-2 | 3.35.18-1 | 3.35.18 | 3.35.9 | 3.35.6 | 3.33.2 | 3.28.11 | 3.21.1 | 3.15.1 | 3.2.1  |
| **@flowx/ui-toolkit**          | **4.17.1** | 4.0.1  | 3.35.18-5  | 3.35.18-3 | 3.35.18-2 | 3.35.18-1 | 3.35.18 | 3.35.9 | 3.35.6 | 3.33.2 | 3.28.11 | 3.21.1 | 3.15.1 | 3.2.1  |
| **@flowx/ui-theme**            | **4.17.1** | 4.0.1  | 3.35.18-5  | 3.35.18-3 | 3.35.18-2 | 3.35.18-1 | 3.35.18 | 3.35.9 | 3.35.6 | 3.33.2 | 3.28.11 | 3.21.1 | 3.15.1 | 3.2.1  |
| **paperflow-web-components**   | -          | -      | 3.35.18-5  | 3.35.18-3 | 3.35.18-2 | 3.35.18-1 | 3.35.18 | 3.35.9 | 3.35.6 | 3.33.2 | 3.28.11 | 3.21.1 | 3.15.1 | 3.2.1  |
| **flowx-process-renderer**     | -          | -      | -          | -         | -         | -         | -       | -      | -      | -      | -       | -      | -      | -      |
| **cms-core**                   | **3.0.1**  | 2.2.5  | 1.3.9      | 1.3.9     | 1.3.9     | 1.3.9     | 1.3.9   | 1.3.9  | 1.3.9  | 1.3.6  | 1.3.0   | 1.2.0  | 1.0.3  | 1.0.2  |
| **scheduler-core**             | **3.0.0**  | 2.1.4  | 1.2.4      | 1.2.4     | 1.2.4     | 1.2.4     | 1.2.4   | 1.2.4  | 1.2.4  | 1.1.0  | 1.0.4   | 1.0.4  | 1.0.4  | 1.0.1  |
| **events-gateway**             | **3.0.0**  | 2.0.4  | 1.1.0      | 1.1.0     | 1.1.0     | 1.1.0     | 1.1.0   | 1.1.0  | 1.1.0  | 1.0.6  | 1.0.2   | -      | -      | -      |
| **notification-plugin**        | **4.0.1**  | 3.0.6  | 2.0.9      | 2.0.9     | 2.0.9     | 2.0.9     | 2.0.9   | 2.0.8  | 2.0.8  | 2.0.5  | 2.0.4   | 2.0.4  | 2.0.3  | 2.0.1  |
| **document-plugin**            | **4.0.0**  | 3.0.6  | 2.0.10-1   | 2.0.10    | 2.0.10    | 2.0.10    | 2.0.10  | 2.0.8  | 2.0.8  | 2.0.6  | 2.0.4   | 2.0.3  | 2.0.3  | 2.0.2  |
| **ocr-plugin**                 | 1.0.17     | 1.0.17 | 1.0.15     | 1.0.12    | 1.0.12    | 1.0.12    | 1.0.12  | 1.0.12 | 1.0.12 | 1.0.8  | 1.0.8   | 1.0.2  | 0.1.33 | 0.1.33 |
| **license-core**               | **3.0.0**  | 2.0.5  | 1.1.0      | 1.0.7     | 1.0.7     | 1.0.7     | 1.0.7   | 1.0.7  | 1.0.7  | 1.0.4  | 1.0.2   | 1.0.2  | 1.0.2  | 1.0.1  |
| **customer-management-plugin** | **2.0.2**  | 1.0.6  | 0.2.8      | 0.2.8     | 0.2.8     | 0.2.8     | 0.2.8   | 0.2.8  | 0.2.8  | 0.2.6  | 0.2.4   | 0.2.3  | 0.2.3  | 0.2.1  |
| **task-management-plugin**     | **5.0.2**  | 4.0.5  | 3.0.3      | 3.0.3     | 3.0.3     | 3.0.3     | 3.0.3   | 3.0.3  | 3.0.3  | 3.0.0  | 2.1.2   | 1.0.4  | 1.0.4  | 1.0.1  |
| **data-search**                | **2.0.3**  | 1.0.6  | 0.2.8      | 0.2.8     | 0.2.8     | 0.2.6     | 0.2.6   | 0.2.6  | 0.2.6  | 0.2.3  | 0.2.0   | 0.1.4  | 0.1.4  | 0.1.3  |
| **audit-core**                 | **4.0.3**  | 3.1.4  | 2.2.0      | 2.2.0     | 2.2.0     | 2.2.0     | 2.2.0   | 2.1.3  | 2.1.3  | 2.1.0  | 1.0.6   | 1.0.5  | 1.0.4  | 1.0.1  |
| **reporting-plugin**           | **0.1.6**  | 0.1.5  | 0.1.2      | 0.1.2     | 0.1.2     | 0.1.2     | 0.1.2   | 0.1.2  | 0.1.2  | 0.1.2  | 0.0.40  | 0.0.40 | 0.0.40 | 0.0.39 |
| **advancing-controller**       | **2.0.0**  | 1.1.4  | 0.3.5-1    | 0.3.5     | 0.3.5     | 0.3.5     | 0.3.5   | 0.3.5  | 0.3.5  | 0.3.2  | 0.3.0   | 0.1.4  | 0.1.4  | 0.1.2  |
| **iOS renderer**               | **3.0.7**  | 3.0.0  | 2.3.0      | 2.3.0     | 2.3.0     | 2.3.0     | 2.3.0   | 2.3.0  | 2.3.0  | 2.3.0  | 2.1.0   | 2.0.1  | 2.0.0  | 2.0.0  |
| **Android renderer**           | **3.0.4**  | 3.0.0  | 2.1.4      | 2.1.4     | 2.1.4     | 2.1.4     | 2.1.4   | 2.1.4  | 2.1.4  | 2.1.4  | 2.0.1   | 2.0.1  | 2.0.1  | 2.0.1  |




### Recommended Versions for FlowX.AI 4.1

| FLOWX.AI Platform Version | Component name    | Recommended version (tested versions) |
| ------------------------- | ----------------- | ------------------------------------- |
| 4.1                       | Keycloak          | 22.0.x                                |
| 4.1                       | Kafka             | 3.2.3                                 |
| 4.1                       | PostgreSQL        | 16.2.0                                |
| 4.1                       | MongoDB           | 7.0.6                                 |
| 4.1                       | Redis             | 7.2.4                                 |
| 4.1                       | Elasticsearch     | 7.17                                  |
| 4.1                       | OracleDB          | 19.8.0.0.0                            |
| 4.1                       | Angular (Web SDK) | 16.0.0                                |




<Info>
FlowX.AI supports any version of the listed third-party components as prerequisites.

For optimal performance and reliability, our internal QA process validates new releases using specific versions as indicated in the provided table.
While exploring alternative versions that suit your company's specific requirements, we recommend referring to the compatibility matrix for guidance.

In the unlikely event that you encounter any compatibility issues with FlowX.AI, please open a support ticket [**here**](https://flowxai.zendesk.com/), and our dedicated team will address and resolve any identified bugs following our standard support process.

Compatibility Matrix:

* FlowX.AI Platform: Recommended and tested versions
* Third-Party Components: Supported versions based on specific requirements and client preferences
</Info>

## Additional configuration

### Misconfigurations

To enable and to compute warnings for already existing processes from previous versions, use the following endpoint retrieve and compute all warnings:

<Info>
Please note that it may take some time for all misconfigurations in older processes to become available on the platform after calling this endpoint.
</Info>

#### FlowX.AI Admin

```json
{{baseUrlAdmin}}/api/process-versions/compute
```

For more details:

<Card title ="Enable misconfigurations" href="../../4.0/docs/api/add-misconfigurations" icon ="link">
</Card>


### Spring Boot upgrade

The following configuration changes are required after upgrading your Spring Boot application to version 3.2.x. Below is a detailed explanation of each section in the context of this upgrade:

<Info>
Note that this setup is backwards compatible, it does not affect the configuration from v3.4.x. The configuration files will still work until v4.5 release.
</Info>

<Warning>
The old environment variables (v3.4.x) will be removed in the v.4.5 FlowX.AI release.
</Warning>

Configuration properties updates:

#### Redis configuration

Where Redis is used (FlowX CMS, FlowX Admin, Documents plugin, events, Notifications plugin, FlowX Engine, Task Management plugin):

##### Old configs:

* `SPRING_DATA_HOST`
* `SPRING_DATA_PORT`
* `SPRING_DATA_PASSWORD`

##### New configs:

* `SPRING_DATA_REDIS_HOST`
* `SPRING_DATA_REDIS_PORT`
* `SPRING_DATA_REDIS_PASSWORD`

#### Management configuration

For all services managing metrics, especially exporting metrics to Prometheus:

##### Old config:

* `MANAGEMENT_METRICS_EXPORT_ENABLED`

##### New config:

* `MANAGEMENT_PROMETHEUS_METRICS_EXPORT_ENABLED`: This variable enables or disables Prometheus metrics export dynamically based on the environment.

#### Authentication

For all services except the advancing-controller.

##### New configs:

<Info>
Currently not required to be set as they take values from old configs.
</Info>

* `SPRING_SECURITY_OAUTH2_RESOURCE_SERVER_OPAQUE_TOKEN_INTROSPECTION_URI`
* `SPRING_SECURITY_OAUTH2_RESOURCE_SERVER_OPAQUE_TOKEN_CLIENT_ID`
* `SPRING_SECURITY_OAUTH2_RESOURCE_SERVER_OPAQUE_TOKEN_CLIENT_SECRET`

##### Existing configs:

* `SECURITY_OAUTH2_BASE_SERVER_URL`
* `SECURITY_OAUTH2_REALM`
* `SECURITY_OAUTH2_CLIENT_CLIENT_ID`
* `SECURITY_OUATH2_CLIENT_CLIENT_SECRET`

#### Elasticsearch configuration

This outlines the Elasticsearch configuration for the following microservices: FlowX Admin, FlowX Engine, Data Search, and Audit Core.

#### Existing configuration:

* `SPRING_ELASTICSEARCH_REST_URIS`: This environment variable is used by the microservices listed above. This variable needs to be set to the appropriate value for each environment.

Example:

```yaml
# only the value changes for the next config:
spring:
  elasticsearch:
    rest:
      uris: localhost:9200 #no more protocol/schema anymore
```

#### New configuration:

* `SPRING_ELASTICSEARCH_REST_PROTOCOL`: Default value is `https`; should be overridden if connection to Elasticsearch needs to be done over `http`.

Example:

```yaml
# New configuration with default value:
spring:
  elasticsearch:
	  rest:
        protocol: https / http # default value is https - should be overriden if connection to elastic needs to be done on http.

```

### License core configuration

For the License core microservice you need to configure two different data sources: one for the engine database and one for the license database.

#### Old Engine database source

* `ENGINE_DATASOURCE_URL`
* `ENGINE_DATASOURCE_JDBC_URL`
* `ENGINE_DATASOURCE_USERNAME`
* `ENGINE_DATASOURCE_PASSWORD`

### New Engine database source

* `SPRING_DATASOURCE_ENGINE_URL: ${spring.datasource.jdbc-url}`: Pointing to old config for backwards compatibility.
* `SPRING_DATASOURCE_ENGINE_JDBC_URL: ${spring.datasource.jdbc-url}`: Pointing to old config for backwards compatibility
* `SPRING_DATASOURCE_ENGINE_USERNAME: ${spring.datasource.username}`: Pointing to old config for backwards compatibility
* `SPRING_DATASOURCE_ENGINE_PASSWORD: ${spring.datasource.password}`: Pointing to old config for backwards compatibility 

#### Old License database source

* `SPRING_DATASOURCE_URL`
* `SPRING_DATASOURCE_JDBC_URL` 
* `SPRING_DATASOURCE_USERNAME`
* `SPRING_DATASOURCE_PASSWORD`

#### New License database source

* `SPRING_DATASOURCE_LICENSE_URL: ${spring.datasource.jdbc-url}`: Pointing to old config for backwards compatibility.
* `SPRING_DATASOURCE_LICENSE_JDBC_URL: ${spring.datasource.jdbc-url}`: Pointing to old config for backwards compatibility.
* `SPRING_DATASOURCE_LICENSE_USERNAME: ${engine.datasource.username:postgres}`: Pointing to old config for backwards compatibility.
* `SPRING_DATASOURCE_LICENSE_PASSWORD: ${engine.datasource.password:wrongpwd}`: Pointing to old config for backwards compatibility.

### Customer management plugin

#### New config:

* `ELASTICSEARCH_PROTOCOL`: Possible values are `https` / `http`; default value is `https` - should be overridden if connection to Elasticsearch needs to be done over `http`.

### Open Telemetry

The FlowX.AI platform uses a mix of both auto instrumentation with Java agent and manual instrumentation using the Open Telemetry API.

For more information about how to leverage Open Telemetry with FlowX, check the following section:

<Card title= "Open Telemetry scenarios" href="../../4.0/docs/platform-deep-dive/integrations/open-telemetry" icon ="page">
</Card>

**Additional configuration needed**! For more information about open telemetry deployment/configuration, check the following section:

<Card title="Open Telemetry configuration" href="../../4.0/setup-guides/open-telemetry-config" icon ="page">
</Card>

For more information about microservices Open Telemetry default properties, check the following section:
<Card title ="Open Telemetry default properties" href="../../4.0/setup-guides/ot-default-properties" icon="page">
</Card>