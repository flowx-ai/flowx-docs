---
title: Deployment changes
description: Additional configuration
---

### Revised cache key organization

To ensure a smooth transition for the 4.0.0 release, it is crucial to make use of the following clear cache endpoint and body:

##### Endpoint:

`POST {{baseUrlAdmin}}/api/internal/cache/clear`

##### Body:

```json
{
    "cacheNames": [
        "flowx:core:cache"
        ]
}
```

<Warning>
You should refrain from utilising the clear cache endpoint cause there are highly chances to affect the stability of the system.
</Warning>

<Info>
This endpoint is designed to purge Redis caches selectively. It will exclusively delete caches that are specified in the admin microservice properties under the property key: "application.redis.clearable-caches".
</Info>

<Card title="Clear Cache 4.0" href ="/4.0/docs/api/clear-cache4.0" icon ="link">
</Card>



### Access rights for Theme Management

In order to utilize the new theme management feature, it's mandatory to configure the following access rights for CMS microservice:

| Module        | Scope  | Role default value | Microservice       |
| ------------- | ------ | ------------------ | ------------------ |
| manage-themes | import | ROLE_THEMES_IMPORT | Content Management |
|               | import | ROLE_THEMES_EDIT   | Content Management |
|               | import | ROLE_THEMES_ADMIN  | Content Management |
| manage-themes | read   | ROLE_THEMES_READ   | Content Management |
|               | read   | ROLE_THEMES_EDIT   | Content Management |
|               | read   | ROLE_THEMES_ADMIN  | Content Management |
|               | read   | ROLE_THEMES_IMPORT | Content Management |
| manage-themes | edit   | ROLE_THEMES_EDIT   | Content Management |
|               | edit   | ROLE_THEMES_ADMIN  | Content Management |
| manage-themes | admin  | ROLE_THEMES_ADMIN  | Content Management |


### Business rules - new object "instanceMetadata"

Introducing a new object named "instanceMetadata". This object will serve as a container for process instance related values, allowing you to access relevant attributes in your scripts more effectively. Key specifications include making certain variables/parameters read-only, controlled by FlowX, and facilitating attribute access through the `instanceMetadata` object rather than directly calling attributes.

<Info>
Instead of directly calling attributes like `input.processInstanceId` (in version 3.x), configurators will utilize `instanceMetadata` to access attributes. For example, the `input.processInstanceId`, will be achieved through `instanceMetadata.processInstanceId`.
</Info>

<Warning>
Avoid creating the same variables in both input and output objects because they may encounter issues if you assign different values to them than those assigned in `instanceMetadata`. The purpose of this enhancement is precisely to prevent configurators from setting incorrect values on these variables.
</Warning>


### Logging

In previous releases, the logs of various deployed FlowX microservices were cluttered with log lines stemming from health endpoint calls.

To streamline logging and enhance readability, you can now disable these health endpoint calls by using the following environment variables:

- `LOGGING_LEVEL_WEB: INFO` (default)
- `LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_WEB: INFO` (default)

<Info>
If the provided logs lack sufficient detail, consider setting the value to ‘DEBUG’.
</Info>